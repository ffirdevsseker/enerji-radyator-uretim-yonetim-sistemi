:root {
	--bg: #F7F9FB;
	--card: #FFFFFF;
	--accent: #0F7AFE;
	--warn: #FF9800;
	--danger: #E53935;
	--success: #2E7D32;
	--muted: #6b7280;
	--shadow: 0 2px 8px rgba(15, 20, 30, 0.06);
	--left-width: 300px;
	--gutter: 20px;
}

body {
	font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	background: var(--bg);
	color: #0f1724;
	margin: 0
}

/* push content below fixed header (header height ~70px) */
.main-content {
	padding: 24px;
	margin-top: 70px
}

.page-shell {
	max-width: 1200px;
	margin: 0 auto
}

.top-bar {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 16px;
	margin-bottom: 16px
}

.page-title {
	display: flex;
	align-items: center;
	gap: 12px
}

.page-title h1 {
	margin: 0;
	font-size: 20px
}

.help-btn {
	width: 32px;
	height: 32px;
	border-radius: 6px;
	border: 0;
	background: #fff;
	box-shadow: var(--shadow)
}

.global-search input {
	width: 320px;
	padding: 10px 12px;
	border-radius: 8px;
	border: 1px solid #e6eef8
}

.content-grid {
	display: grid;
	grid-template-columns: minmax(260px, var(--left-width)) 1fr;
	gap: var(--gutter)
}

/* Left column wrapper for cards + panel */
.left-column {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

/* Toggle button for insight cards */
.toggle-insight-btn {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 10px 12px;
	background: var(--card);
	border: 1px solid #e5e7eb;
	border-radius: 8px;
	cursor: pointer;
	font-size: 13px;
	font-weight: 500;
	color: #374151;
	transition: all 0.2s ease;
	box-shadow: var(--shadow);
}

.toggle-insight-btn:hover {
	background: #f9fafb;
	border-color: #cbd5e1;
	transform: translateY(-1px);
	box-shadow: 0 4px 8px rgba(15, 20, 30, 0.08);
}

.toggle-insight-btn svg {
	flex-shrink: 0;
}

.toggle-insight-btn .chevron {
	margin-left: auto;
	transition: transform 0.3s ease;
}

.toggle-insight-btn.expanded .chevron {
	transform: rotate(180deg);
}

/* Compact 2x2 insight cards */
.insight-cards-compact {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 10px;
	max-height: 1000px;
	overflow: hidden;
	opacity: 1;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.insight-cards-compact.hidden {
	max-height: 0;
	opacity: 0;
	margin: 0;
	pointer-events: none;
}

.insight-card-compact {
	background: var(--card);
	padding: 12px;
	border-radius: 10px;
	box-shadow: var(--shadow);
	display: flex;
	flex-direction: column;
	gap: 4px;
	border: 1px solid rgba(15, 122, 254, 0.06);
	transition: all 0.2s ease;
}

.insight-card-compact:hover {
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(15, 20, 30, 0.1);
}

.insight-card-compact header {
	font-size: 11px;
	text-transform: uppercase;
	letter-spacing: .04em;
	color: var(--muted);
	font-weight: 600;
}

.insight-card-compact strong {
	font-size: 22px;
	font-weight: 700;
	color: #0f1724;
	line-height: 1;
}

.insight-card-compact small {
	color: var(--muted);
	font-size: 11px;
}

.left-panel {
	background: var(--card);
	padding: 14px;
	border-radius: 8px;
	box-shadow: var(--shadow);
	height: fit-content;
}

.quick-filters {
	display: flex;
	gap: 6px;
	flex-wrap: wrap;
	margin-bottom: 12px;
}

.quick-filters .qf {
	padding: 7px 10px;
	border-radius: 6px;
	border: 1px solid transparent;
	background: #f1f5f9;
	font-size: 13px;
	font-weight: 500;
	cursor: pointer;
	transition: all 0.2s ease;
}

.quick-filters .qf:hover {
	background: #e2e8f0;
}

.quick-filters .qf.active {
	background: var(--accent);
	color: #fff;
}

/* Customer Type Filter */
.customer-type-filter {
	padding: 12px;
	background: var(--card);
	border-radius: 8px;
	margin-bottom: 12px;
	box-shadow: var(--shadow);
}

.customer-type-btn {
	flex: 1;
	padding: 8px 12px;
	border-radius: 6px;
	border: 1px solid #e5e7eb;
	background: #f9fafb;
	font-size: 13px;
	font-weight: 500;
	cursor: pointer;
	transition: all 0.2s ease;
	color: #374151;
}

.customer-type-btn:hover {
	background: #f3f4f6;
	border-color: #d1d5db;
}

.customer-type-btn.active {
	background: var(--accent);
	color: #fff;
	border-color: var(--accent);
}

.search-block input {
	width: 100%;
	padding: 10px;
	border-radius: 8px;
	border: 1px solid #e6eef8
}

.filter-block details {
	margin-top: 10px;
}

.filter-block summary {
	cursor: pointer;
	font-weight: 600;
	font-size: 13px;
	padding: 4px 0;
}

.filter-block select,
.filter-block input[type="date"] {
	width: 100%;
	padding: 8px;
	margin-top: 6px;
	border-radius: 6px;
	border: 1px solid #e5e7eb;
	font-size: 13px;
}

.quick-actions {
	display: flex;
	flex-direction: column;
	gap: 8px;
	margin-top: 12px;
}

.quick-actions button {
	cursor: pointer;
	border: 0;
	transition: all 0.2s ease;
	font-weight: 500;
	font-size: 13px;
}

.quick-actions button:not(.primary) {
	background: #fff;
	border: 1px solid #e5e7eb;
	color: #374151
}

.quick-actions button:not(.primary):hover {
	background: #f9fafb;
	border-color: #cbd5e1;
	transform: translateY(-1px)
}

.primary {
	background: var(--accent);
	color: #fff;
	border: 0;
	cursor: pointer;
	transition: all 0.2s ease
}

.primary:hover {
	background: #0d6de5;
	transform: translateY(-1px);
	box-shadow: 0 4px 12px rgba(15, 122, 254, 0.3)
}

.primary:active {
	transform: translateY(0);
	box-shadow: 0 2px 6px rgba(15, 122, 254, 0.3)
}

.large {
	padding: 10px 12px;
	border-radius: 8px;
	font-weight: 500;
	font-size: 13px;
}

.large.primary {
	height: 42px;
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
}

#newRecordBtn::before {
	font-size: 14px
}

.small {
	padding: 6px 8px
}

/* Modal styles */
.modal-overlay {
	position: fixed;
	inset: 0;
	background: rgba(2, 6, 23, 0.35);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 2000;
	backdrop-filter: blur(2px);
	-webkit-backdrop-filter: blur(2px);
}

/* ensure hidden attribute actually hides overlays (author styles may override UA hidden rule) */
.modal-overlay[hidden] {
	display: none !important;
	opacity: 0;
	pointer-events: none
}

.modal {
	background: var(--card);
	width: 540px;
	max-width: 95%;
	border-radius: 16px;
	box-shadow: 0 20px 60px rgba(15, 20, 30, 0.15);
	overflow: hidden;
	animation: modalSlideIn 0.3s ease-out;
}

.modal.large {
	width: 720px;
	max-width: 95%;
}

.modal-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 20px 24px;
	border-bottom: 1px solid #eef3ff;
	background: linear-gradient(to bottom, #ffffff, #fafbfc)
}

.modal-header h3 {
	margin: 0;
	font-size: 20px;
	font-weight: 600;
	color: #0f1724
}

.modal-header button {
	width: 32px;
	height: 32px;
	border-radius: 8px;
	border: 0;
	background: #f1f5f9;
	color: #6b7280;
	cursor: pointer;
	font-size: 18px;
	transition: all 0.2s ease
}

.modal-header button:hover {
	background: #e5e7eb;
	color: #374151;
	transform: scale(1.05)
}

.modal-body {
	padding: 24px;
	max-height: 70vh;
	overflow-y: auto
}

.modal-footer {
	padding: 16px 24px;
	border-top: 1px solid #f1f5f9;
	text-align: right;
	background: #fafbfc;
	display: flex;
	justify-content: flex-end;
	gap: 12px
}

.modal .btn {
	margin-left: 0;
	padding: 10px 20px;
	border-radius: 8px;
	border: 0;
	font-size: 14px;
	font-weight: 500;
	cursor: pointer;
	transition: all 0.2s ease
}

.modal .btn.primary {
	background: var(--accent);
	color: #fff;
	box-shadow: 0 2px 8px rgba(15, 122, 254, 0.25)
}

.modal .btn.primary:hover {
	background: #0d6de5;
	box-shadow: 0 4px 12px rgba(15, 122, 254, 0.35);
	transform: translateY(-1px)
}

.modal .btn:not(.primary) {
	background: #fff;
	color: #374151;
	border: 1px solid #e5e7eb
}

.modal .btn:not(.primary):hover {
	background: #f9fafb;
	border-color: #d1d5db
}

@keyframes modalSlideIn {
	from {
		opacity: 0;
		transform: scale(0.95) translateY(-10px)
	}

	to {
		opacity: 1;
		transform: scale(1) translateY(0)
	}
}

/* Form styles for modal */
.modal-body form {
	display: flex;
	flex-direction: column;
	gap: 20px
}

.modal-body form label {
	display: flex;
	flex-direction: column;
	gap: 8px;
	font-size: 14px;
	font-weight: 500;
	color: #374151
}

.modal-body form input,
.modal-body form select,
.modal-body form textarea {
	padding: 12px 14px;
	border: 1px solid #e5e7eb;
	border-radius: 8px;
	font-size: 14px;
	color: #0f1724;
	transition: all 0.2s ease;
	background: #fff
}

.modal-body form input:focus,
.modal-body form select:focus,
.modal-body form textarea:focus {
	border-color: var(--accent);
	box-shadow: 0 0 0 3px rgba(15, 122, 254, 0.1);
	outline: none
}

.modal-body form input::placeholder {
	color: #9ca3af
}

.modal-body form textarea {
	min-height: 80px;
	resize: vertical;
	font-family: inherit
}

.modal-body form .form-row {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 16px
}

.modal-body form .form-hint {
	font-size: 12px;
	color: #6b7280;
	font-weight: 400;
	margin-top: -4px
}

.saved-views {
	margin-top: 14px
}

.saved-list .sv-btn {
	background: #f1f5f9;
	border: 0;
	padding: 6px 8px;
	border-radius: 6px
}

.right-panel {
	display: flex;
	flex-direction: column;
	gap: 0;
}

.list-toolbar {
	display: flex;
	justify-content: space-between;
	align-items: center
}

.tabs {
	display: flex;
	gap: 8px
}

.tabs .tab {
	padding: 8px 12px;
	border-radius: 8px;
	background: #fff;
	border: 1px solid #eef3ff
}

.tabs .tab.active {
	background: var(--accent);
	color: #fff
}

.insight-cards {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
	gap: var(--gutter);
	margin-bottom: var(--gutter)
}

.insight-card {
	background: var(--card);
	padding: 16px;
	border-radius: 12px;
	box-shadow: var(--shadow);
	display: flex;
	flex-direction: column;
	gap: 6px;
	border: 1px solid rgba(15, 122, 254, 0.06)
}

.insight-card header {
	font-size: 13px;
	text-transform: uppercase;
	letter-spacing: .04em;
	color: var(--muted)
}

.insight-card strong {
	font-size: 26px;
	font-weight: 700;
	color: #0f1724
}

.insight-card small {
	color: var(--muted)
}

.analytics-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
	gap: var(--gutter)
}

.analytics-grid .panel {
	background: var(--card);
	border-radius: 12px;
	box-shadow: var(--shadow);
	padding: 16px;
	display: flex;
	flex-direction: column;
	gap: 12px
}

.analytics-grid .panel.wide {
	grid-column: 1 / -1
}

.panel-header {
	display: flex;
	flex-direction: column;
	gap: 4px
}

.panel-header h3 {
	margin: 0;
	font-size: 16px
}

.panel-header small {
	color: var(--muted);
	font-size: 13px
}

.mini-list {
	list-style: none;
	padding: 0;
	margin: 0;
	display: flex;
	flex-direction: column;
	gap: 10px
}

.mini-list li {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	gap: 12px;
	padding: 8px 10px;
	border-radius: 10px;
	background: rgba(15, 122, 254, 0.05)
}

.mini-list li span.label {
	font-weight: 600
}

.mini-list li span.metric {
	font-family: 'JetBrains Mono', 'Fira Mono', monospace;
	background: #fff;
	border-radius: 999px;
	padding: 2px 10px;
	box-shadow: var(--shadow)
}

.panel-table-wrapper {
	overflow: auto
}

.panel-table {
	width: 100%;
	border-collapse: collapse;
	min-width: 540px
}

.panel-table th,
.panel-table td {
	padding: 8px 10px;
	text-align: left;
	border-bottom: 1px solid #f0f4f8;
	white-space: nowrap
}

.panel-table th {
	font-size: 12px;
	text-transform: uppercase;
	letter-spacing: .05em;
	color: var(--muted)
}

.panel-empty {
	margin: 12px 0 0 0;
	color: var(--muted);
	font-size: 13px;
	display: none
}

.panel-empty.show {
	display: block
}

.controls {
	display: flex;
	gap: 10px;
	align-items: center
}

.controls select {
	padding: 8px
}

.controls button {
	padding: 8px 10px;
	border-radius: 6px
}

.list-area {
	background: var(--card);
	padding: 16px;
	border-radius: 8px;
	box-shadow: var(--shadow);
}

/* List Search Box */
.list-search-container {
	position: relative;
	margin-bottom: 16px;
	display: flex;
	align-items: center;
	gap: 8px;
}

.list-search-container .search-icon {
	position: absolute;
	left: 12px;
	top: 50%;
	transform: translateY(-50%);
	color: #9ca3af;
	pointer-events: none;
	z-index: 1;
	flex-shrink: 0;
}

.list-search-input {
	width: 100%;
	padding: 12px 44px 12px 38px;
	border: 1.5px solid #e5e7eb;
	border-radius: 10px;
	font-size: 14px;
	color: #0f1724;
	background: #ffffff;
	transition: all 0.2s ease;
	font-family: inherit;
}

.list-search-input:focus {
	border-color: var(--accent);
	box-shadow: 0 0 0 3px rgba(15, 122, 254, 0.1);
	outline: none;
}

.list-search-input::placeholder {
	color: #9ca3af;
}

.clear-search-btn {
	position: absolute;
	right: 12px;
	top: 50%;
	transform: translateY(-50%);
	width: 24px;
	height: 24px;
	border: none;
	background: #f3f4f6;
	border-radius: 50%;
	color: #6b7280;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.2s ease;
	padding: 0;
}

.clear-search-btn:hover {
	background: #e5e7eb;
	color: #374151;
	transform: translateY(-50%) scale(1.05);
}

.clear-search-btn:active {
	transform: translateY(-50%) scale(0.95);
}

.records-table {
	width: 100%;
	border-collapse: collapse;
}

.records-table th,
.records-table td {
	padding: 10px 8px;
	text-align: left;
	border-bottom: 1px solid #f0f4f8;
	font-size: 14px;
}

.records-table th {
	font-weight: 600;
	color: #6b7280;
	font-size: 13px;
}

.records-table tr {
	cursor: pointer;
	transition: background-color 0.15s ease;
}

.records-table tbody tr:hover {
	background: #f9fafb;
}

.col-name small {
	color: var(--muted)
}

.pill {
	background: #eef2ff;
	color: var(--accent);
	padding: 2px 8px;
	border-radius: 999px;
	font-size: 12px
}

.page-footer {
	margin-top: 8px;
	color: var(--muted)
}

/* Card view */
.card-container {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
	gap: 12px
}

.card {
	background: var(--card);
	padding: 12px;
	border-radius: 8px;
	box-shadow: var(--shadow)
}

.card-head {
	font-weight: 600
}

.card-meta {
	color: var(--muted);
	font-size: 13px;
	margin-top: 6px
}

.card-tags {
	margin-top: 8px
}

/* Drawer skeleton */
.drawer {
	position: fixed;
	right: 0;
	top: 0;
	height: 100%;
	width: 480px;
	max-width: 95%;
	background: var(--card);
	box-shadow: -6px 0 24px rgba(2, 6, 23, 0.15);
	transform: translateX(100%);
	transition: transform .28s cubic-bezier(0.4, 0, 0.2, 1);
	z-index: 2000;
	display: flex;
	flex-direction: column
}

.drawer.open {
	transform: translateX(0)
}

.drawer .drawer-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 20px 24px;
	border-bottom: 1px solid #e5e7eb;
	background: #fafbfc;
	flex-shrink: 0;
}

.drawer .drawer-header .title {
	font-size: 18px;
	font-weight: 600;
	color: #111827;
	display: flex;
	align-items: center;
	gap: 8px;
}

.drawer .drawer-header .close-drawer {
	width: 32px;
	height: 32px;
	border-radius: 6px;
	border: none;
	background: transparent;
	color: #6b7280;
	font-size: 20px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.15s ease;
}

.drawer .drawer-header .close-drawer:hover {
	background: #e5e7eb;
	color: #111827;
}

.drawer .drawer-body {
	padding: 0;
	overflow: auto;
	flex: 1;
}

.drawer .drawer-actions {
	display: flex;
	gap: 8px;
	padding: 16px 24px;
	border-bottom: 1px solid #e5e7eb;
	background: #ffffff;
}

.drawer .drawer-actions .action {
	flex: 1;
	padding: 10px 16px;
	border-radius: 8px;
	border: 1px solid #d1d5db;
	background: #ffffff;
	color: #374151;
	font-size: 14px;
	font-weight: 500;
	cursor: pointer;
	transition: all 0.15s ease;
}

.drawer .drawer-actions .action:hover {
	background: #f9fafb;
	border-color: #9ca3af;
}

.drawer .drawer-actions .action.primary {
	background: var(--accent);
	color: #ffffff;
	border-color: var(--accent);
}

.drawer .drawer-actions .action.primary:hover {
	background: #0d6edb;
	border-color: #0d6edb;
}

/* Drawer Tabs */
.drawer-tabs {
	border-bottom: 1px solid #e5e7eb;
	background: #ffffff;
	padding: 0 24px;
}

.drawer-tabs nav {
	display: flex;
	gap: 4px;
}

.drawer-tabs .dtab {
	padding: 12px 16px;
	border: none;
	background: transparent;
	color: #6b7280;
	font-size: 14px;
	font-weight: 500;
	cursor: pointer;
	border-bottom: 2px solid transparent;
	transition: all 0.15s ease;
	position: relative;
}

.drawer-tabs .dtab:hover {
	color: #374151;
	background: #f9fafb;
}

.drawer-tabs .dtab.active {
	color: var(--accent);
	border-bottom-color: var(--accent);
}

/* Drawer Content */
.drawer-content {
	padding: 24px;
}

.drawer-content .info-section {
	margin-bottom: 24px;
}

.drawer-content .info-section h3 {
	font-size: 14px;
	font-weight: 600;
	color: #6b7280;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin: 0 0 12px 0;
}

.drawer-content .info-row {
	display: flex;
	justify-content: space-between;
	align-items: start;
	padding: 12px 0;
	border-bottom: 1px solid #f3f4f6;
}

.drawer-content .info-row:last-child {
	border-bottom: none;
}

.drawer-content .info-label {
	font-size: 14px;
	color: #6b7280;
	font-weight: 500;
}

.drawer-content .info-value {
	font-size: 14px;
	color: #111827;
	font-weight: 400;
	text-align: right;
	max-width: 60%;
}

.drawer-content .empty-state {
	text-align: center;
	padding: 40px 20px;
	color: #9ca3af;
}

.drawer-content .empty-state svg,
.drawer-content .empty-state .icon {
	font-size: 48px;
	opacity: 0.5;
	margin-bottom: 12px;
}

/* Tablet & Mobile: 800px and below */
@media(max-width:800px) {
	.content-grid {
		grid-template-columns: 1fr;
		gap: 16px;
	}

	/* Keep statistics and filters accessible at top on mobile */
	.left-column {
		order: 1;
	}

	.right-panel {
		order: 2;
	}

	.global-search input {
		width: 100%;
	}
	
	.insight-cards-compact {
		grid-template-columns: 1fr 1fr;
		gap: 8px;
	}

	/* Make left panel compact on tablets */
	.left-panel {
		padding: 12px;
	}

	.drawer {
		width: 100%;
	}
	
	/* Improve table scrolling */
	.list-area {
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;
	}
	
	.records-table {
		min-width: 650px;
	}
}

/* Accessibility focus */
button:focus,
input:focus,
select:focus {
	outline: 2px solid rgba(15, 122, 254, 0.18);
	outline-offset: 2px
}

/* Backdrop for drawer with blur + fade */
.drawer-backdrop {
	position: fixed;
	inset: 0;
	background: rgba(15, 20, 30, 0.06);
	backdrop-filter: blur(4px);
	-webkit-backdrop-filter: blur(4px);
	opacity: 0;
	transition: opacity .22s ease;
	z-index: 1900
}

.drawer-backdrop.show {
	opacity: 1
}

/* modal overlay subtle blur transition */
.modal-overlay {
	transition: backdrop-filter .25s ease, background-color .2s ease
}

.modal-overlay.show {
	backdrop-filter: blur(3px);
	-webkit-backdrop-filter: blur(3px);
}

/* Mobile phones: 600px and below */
@media (max-width: 600px) {
	.main-content {
		padding: 12px 8px;
		margin-top: 56px;
	}

	.page-shell {
		max-width: 100vw;
		margin: 0;
	}

	.top-bar {
		flex-direction: column;
		align-items: flex-start;
		gap: 8px;
		margin-bottom: 12px;
	}

	.page-title h1 {
		font-size: 18px;
	}

	.content-grid {
		grid-template-columns: 1fr;
		gap: 12px;
	}

	/* Keep left column (stats + filters) at top on mobile */
	.left-column {
		order: 1;
	}

	.right-panel {
		order: 2;
	}

	.left-panel {
		padding: 12px;
		border-radius: 8px;
	}
	
	.right-panel {
		padding: 0;
	}
	
	.list-area {
		padding: 12px;
		border-radius: 8px;
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;
	}

	/* Compact statistics cards - 2 columns on mobile */
	.insight-cards-compact {
		grid-template-columns: 1fr 1fr;
		gap: 8px;
	}
	
	.insight-card-compact {
		padding: 10px;
	}
	
	.insight-card-compact header {
		font-size: 10px;
	}
	
	.insight-card-compact strong {
		font-size: 20px;
	}
	
	.insight-card-compact small {
		font-size: 10px;
	}

	/* Compact toggle button */
	.toggle-insight-btn {
		padding: 8px 10px;
		font-size: 12px;
	}

	/* Full-width 1-column cards for regular insight view */
	.insight-cards {
		grid-template-columns: 1fr;
		gap: 8px;
	}

	/* Search box mobile */
	.list-search-input {
		padding: 10px 40px 10px 40px;
		font-size: 13px;
	}
	
	.list-search-input::placeholder {
		font-size: 12px;
	}

	/* Table with horizontal scroll */
	.records-table {
		font-size: 13px;
		min-width: 600px;
		width: 100%;
	}
	
	.records-table th,
	.records-table td {
		padding: 10px 6px;
		font-size: 12px;
		white-space: nowrap;
	}
	
	/* Hide checkbox column on very small screens */
	.records-table th:first-child,
	.records-table td:first-child {
		display: none;
	}

	/* Card view for mobile alternative */
	.card-container {
		grid-template-columns: 1fr;
		gap: 10px;
	}

	/* Compact filters */
	.quick-filters {
		gap: 6px;
		flex-wrap: wrap;
	}
	
	.quick-filters .qf {
		padding: 8px 12px;
		font-size: 12px;
		flex: 1 1 calc(50% - 3px);
		min-width: calc(50% - 3px);
		text-align: center;
	}

	/* Action buttons stack vertically */
	.quick-actions {
		gap: 8px;
	}
	
	.quick-actions button {
		font-size: 14px;
		padding: 12px 14px;
	}

	/* Modal full screen on mobile */
	.modal {
		width: 100vw;
		max-width: 100vw;
		height: 100vh;
		max-height: 100vh;
		margin: 0;
		border-radius: 0;
		display: flex;
		flex-direction: column;
	}

	.modal-header {
		padding: 14px 16px;
		flex-shrink: 0;
	}

	.modal-header h3 {
		font-size: 17px;
	}

	.modal-body {
		padding: 16px;
		max-height: none;
		flex: 1;
		overflow-y: auto;
	}

	.modal-footer {
		padding: 12px 16px;
		flex-direction: column-reverse;
		gap: 8px;
		flex-shrink: 0;
		border-top: 2px solid #e5e7eb;
	}

	.modal .btn {
		width: 100%;
		justify-content: center;
		padding: 12px 16px;
		font-size: 15px;
	}

	.modal-body form .form-row {
		grid-template-columns: 1fr;
		gap: 18px;
	}

	/* Drawer full screen */
	.drawer {
		width: 100vw;
		max-width: 100vw;
	}
	
	/* Pagination mobile-friendly */
	.pagination-container {
		flex-direction: column;
		gap: 10px;
		padding: 10px 12px;
	}
	
	.pagination-info {
		order: 1;
		font-size: 12px;
	}
	
	.pagination-controls {
		order: 2;
		width: 100%;
		justify-content: center;
		flex-wrap: wrap;
	}
	
	.pagination-btn,
	.page-number-btn {
		min-width: 36px;
		height: 36px;
		font-size: 14px;
	}
	
	/* Hide some page numbers on very small screens */
	.pagination-numbers {
		gap: 3px;
	}
}

/* Additional aesthetic enhancements */
.modal-body form label span {
	display: inline-block;
}

.modal-body form input[type="number"]::-webkit-inner-spin-button,
.modal-body form input[type="number"]::-webkit-outer-spin-button {
	opacity: 1;
}

/* Error state for form inputs */
.modal-body form input:invalid:not(:placeholder-shown),
.modal-body form select:invalid:not(:placeholder-shown) {
	border-color: #fca5a5;
}

.modal-body form input:valid:not(:placeholder-shown),
.modal-body form select:valid:not(:placeholder-shown) {
	border-color: #86efac;
}

/* Icon enhancement for required fields */
.modal-body form label:has(input[required])::after,
.modal-body form label:has(select[required])::after {
	content: '*';
	color: var(--danger);
	margin-left: 4px;
	font-weight: 600;
}

/* Smooth scrollbar for modal body */
.modal-body::-webkit-scrollbar {
	width: 8px;
}

.modal-body::-webkit-scrollbar-track {
	background: #f1f5f9;
	border-radius: 4px;
}

.modal-body::-webkit-scrollbar-thumb {
	background: #cbd5e1;
	border-radius: 4px;
}

.modal-body::-webkit-scrollbar-thumb:hover {
	background: #94a3b8;
}

/* Row Actions Menu (Dropdown) */
.row-menu {
	position: absolute;
	background: #ffffff;
	border-radius: 8px;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.04);
	border: 1px solid #e5e7eb;
	padding: 6px;
	min-width: 180px;
	z-index: 1000;
	animation: slideDownFadeIn 0.15s ease-out;
}

@keyframes slideDownFadeIn {
	from {
		opacity: 0;
		transform: translateY(-8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.row-menu button {
	display: flex;
	align-items: center;
	gap: 10px;
	width: 100%;
	padding: 10px 12px;
	border: none;
	background: transparent;
	color: #374151;
	font-size: 14px;
	font-weight: 500;
	text-align: left;
	cursor: pointer;
	border-radius: 6px;
	transition: all 0.15s ease;
	position: relative;
}

.row-menu button:hover {
	background: #f3f4f6;
	color: #111827;
}

.row-menu button:active {
	background: #e5e7eb;
	transform: scale(0.98);
}

/* Menu button icons (using pseudo-elements) */
.row-menu button::before {
	content: '';
	display: inline-block;
	width: 18px;
	height: 18px;
	flex-shrink: 0;
	opacity: 0.7;
}

/* View/Detail icon */
.row-menu .mview::before {
	content: 'üëÅÔ∏è';
	font-size: 16px;
}

/* Edit icon */
.row-menu .medit::before {
	content: '‚úèÔ∏è';
	font-size: 16px;
}

/* Delete icon */
.row-menu .mdelete {
	color: #dc2626;
	border-top: 1px solid #f3f4f6;
	margin-top: 4px;
	padding-top: 10px;
}

.row-menu .mdelete::before {
	content: 'üóëÔ∏è';
	font-size: 16px;
}

.row-menu .mdelete:hover {
	background: #fee2e2;
	color: #991b1b;
}

/* More button styling */
.col-actions .more-btn {
	background: transparent;
	border: 0;
	font-size: 20px;
	cursor: pointer;
	padding: 6px 10px;
	border-radius: 6px;
	transition: all 0.15s ease;
	color: #6b7280;
}

.col-actions .more-btn:hover {
	background: #f3f4f6;
	color: #111827;
}

.col-actions .more-btn:active {
	background: #e5e7eb;
	transform: scale(0.95);
}

/* Focus visible for better keyboard navigation */
.modal .btn:focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
}

/* Disabled button state */
.modal .btn:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Loading state for buttons */
.modal .btn.loading {
	position: relative;
	color: transparent;
}

.modal .btn.loading::after {
	content: '';
	position: absolute;
	width: 16px;
	height: 16px;
	top: 50%;
	left: 50%;
	margin-left: -8px;
	margin-top: -8px;
	border: 2px solid currentColor;
	border-radius: 50%;
	border-right-color: transparent;
	animation: buttonSpin 0.6s linear infinite;
}

@keyframes buttonSpin {
	to {
		transform: rotate(360deg);
	}
}

/* Improved modal overlay transition */
.modal-overlay {
	opacity: 0;
	transition: opacity 0.2s ease, backdrop-filter 0.2s ease;
}

.modal-overlay.show {
	opacity: 1;
}

/* Form section divider */
.modal-body form hr {
	border: none;
	border-top: 1px solid #e5e7eb;
	margin: 24px 0;
}

/* Pagination styles */
.pagination-container {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-top: 16px;
	padding: 12px 16px;
	background: var(--card);
	border-radius: 8px;
	box-shadow: var(--shadow);
}

.pagination-info {
	font-size: 13px;
	color: var(--muted);
	font-weight: 500;
}

.pagination-controls {
	display: flex;
	align-items: center;
	gap: 8px;
}

.pagination-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 32px;
	height: 32px;
	border: 1px solid #e5e7eb;
	background: #fff;
	border-radius: 6px;
	cursor: pointer;
	transition: all 0.2s ease;
	color: #374151;
}

.pagination-btn:hover:not(:disabled) {
	background: #f9fafb;
	border-color: var(--accent);
	color: var(--accent);
	transform: translateY(-1px);
}

.pagination-btn:disabled {
	opacity: 0.4;
	cursor: not-allowed;
	background: #f9fafb;
}

.pagination-numbers {
	display: flex;
	gap: 4px;
	align-items: center;
	margin: 0 4px;
}

.page-number-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	min-width: 32px;
	height: 32px;
	padding: 0 8px;
	border: 1px solid #e5e7eb;
	background: #fff;
	border-radius: 6px;
	cursor: pointer;
	transition: all 0.2s ease;
	font-size: 13px;
	font-weight: 500;
	color: #374151;
}

.page-number-btn:hover {
	background: #f9fafb;
	border-color: var(--accent);
	color: var(--accent);
	transform: translateY(-1px);
}

.page-number-btn.active {
	background: var(--accent);
	border-color: var(--accent);
	color: white;
	font-weight: 600;
}

.page-number-btn.active:hover {
	transform: translateY(-1px);
}

.pagination-ellipsis {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 32px;
	height: 32px;
	color: var(--muted);
	font-weight: 600;
	user-select: none;
}

/* Tablet responsive adjustments */
@media (max-width: 768px) and (min-width: 601px) {
	.modal {
		width: 90vw;
	}

	.modal-body {
		padding: 20px;
	}
	
	.pagination-container {
		flex-direction: column;
		gap: 12px;
	}
	
	.pagination-info {
		order: 2;
	}
	
	.pagination-controls {
		order: 1;
	}
}

/* Extra small phones: 400px and below */
@media (max-width: 400px) {
	.main-content {
		padding: 8px 6px;
	}
	
	/* Single column statistics on very small screens */
	.insight-cards-compact {
		grid-template-columns: 1fr;
		gap: 6px;
	}
	
	.insight-card-compact {
		padding: 8px 10px;
	}
	
	/* Smaller filter buttons */
	.quick-filters .qf {
		padding: 6px 8px;
		font-size: 11px;
	}
	
	/* Compact table */
	.records-table {
		min-width: 500px;
		font-size: 12px;
	}
	
	.records-table th,
	.records-table td {
		padding: 8px 4px;
		font-size: 11px;
	}
	
	/* Simplified pagination */
	.pagination-btn,
	.page-number-btn {
		min-width: 32px;
		height: 32px;
		font-size: 13px;
	}
	
	.page-number-btn {
		padding: 0 6px;
	}
}